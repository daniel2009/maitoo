<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.weiye.dao.StoragePositionRecordDao">	<resultMap id="basic_result_map" type="com.weiye.model.StoragePositionRecord">		<id column="id" property="id" javaType="String" />		<result column="storage_position_id" property="storagePositionId" javaType="String"/>		<result column="relate_id" property="relateId" javaType="String"/>	</resultMap>		<insert id="insert" keyProperty="id" useGeneratedKeys="true">		INSERT INTO storage_position_record(storage_position_id, relate_id) 		SELECT #{storagePositionId}, #{relateId} FROM DUAL WHERE NOT EXISTS(SELECT id FROM storage_position_record WHERE storage_position_id=#{storagePositionId} AND relate_id=#{relateId}) LIMIT 1	</insert>	<insert id="insertByUser" >		INSERT INTO storage_position_record(storage_position_id, relate_id) 		SELECT #{storagePosition.id}, 			relate.id FROM <if test='storage.type=="0"'> transhipment_bill </if>				<if test='storage.type=="1"'> transhipment_bill </if>				<if test='storage.type=="2"'> `order` </if>				AS relate 				WHERE relate.user_id=#{user.id} AND state IN <foreach collection="array" item="item" separator="," open="(" close=")">#{item}</foreach>	</insert>	<select id="countByStoragePosition" resultType="java.lang.Integer" >		SELECT COUNT(id) FROM storage_position_record WHERE storage_position_id=#{id}	</select>	<delete id="deleteByRelate">		DELETE FROM storage_position_record WHERE storage_position_id=#{storagePositionId} AND relate_id=#{relateId}	</delete>	<delete id="deleteByStoragePosition">		DELETE FROM storage_position_record WHERE storage_position_id=#{id}	</delete></mapper>